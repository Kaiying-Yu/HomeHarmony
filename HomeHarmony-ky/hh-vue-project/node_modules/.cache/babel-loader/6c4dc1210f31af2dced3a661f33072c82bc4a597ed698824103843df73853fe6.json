{"ast":null,"code":"import \"core-js/modules/esnext.iterator.constructor.js\";\nimport \"core-js/modules/esnext.iterator.for-each.js\";\nimport \"core-js/modules/esnext.iterator.map.js\";\nimport AppLayout from '@/components/layout/AppLayout.vue';\nimport axios from 'axios';\nexport default {\n  components: {\n    AppLayout\n  },\n  data() {\n    return {\n      tableData: [],\n      userChores: {},\n      loadingUsers: false\n    };\n  },\n  computed: {\n    sortedUsers() {\n      return [...this.tableData].sort((a, b) => b.points - a.points);\n    }\n  },\n  methods: {\n    async fetchUsers() {\n      this.loadingUsers = true;\n      const spaceId = localStorage.getItem('spaceId');\n      if (!spaceId) {\n        this.loadingUsers = false;\n        return;\n      }\n      try {\n        const response = await axios.get(`http://localhost:8080/space/${spaceId}`);\n        if (response.data && response.data.users) {\n          this.tableData = response.data.users;\n          this.tableData.forEach(user => {\n            this.fetchUserChores(user.id);\n          });\n        }\n      } catch (error) {\n        console.error('Error fetching space users:', error);\n        this.$message.error('Failed to fetch users');\n      } finally {\n        this.loadingUsers = false;\n      }\n    },\n    fetchUserChores(userId) {\n      axios.get(`http://localhost:8080/chores/user/${userId}`).then(response => {\n        if (response.data.status === 'success') {\n          this.$set(this.userChores, userId, response.data.data);\n        }\n      }).catch(error => {\n        console.error('Error fetching user chores:', error);\n      });\n    },\n    isChampion(user) {\n      if (!this.tableData.length) return false;\n      const maxPoints = Math.max(...this.tableData.map(u => u.points));\n      return user.points === maxPoints && user.points > 0;\n    }\n  },\n  mounted() {\n    this.fetchUsers();\n  }\n};","map":{"version":3,"names":["AppLayout","axios","components","data","tableData","userChores","loadingUsers","computed","sortedUsers","sort","a","b","points","methods","fetchUsers","spaceId","localStorage","getItem","response","get","users","forEach","user","fetchUserChores","id","error","console","$message","userId","then","status","$set","catch","isChampion","length","maxPoints","Math","max","map","u","mounted"],"sources":["src/views/homeharmony/UserView.vue"],"sourcesContent":["<template>\r\n    <app-layout>\r\n        <div class=\"user-dashboard\">\r\n            <div class=\"dashboard-header\">\r\n                <h2>Space Members</h2>\r\n            </div>\r\n            \r\n            <el-row :gutter=\"20\">\r\n                <el-col :span=\"8\" v-for=\"user in sortedUsers\" :key=\"user.id\">\r\n                    <el-card :class=\"['member-card', { 'champion-card': isChampion(user) }]\" shadow=\"hover\">\r\n                        <div class=\"member-header\">\r\n                            <div class=\"member-info\">\r\n                                <div class=\"username-container\">\r\n                                    <h3>{{ user.username }}</h3>\r\n                                    <i v-if=\"isChampion(user)\" class=\"el-icon-trophy champion-icon\"></i>\r\n                                </div>\r\n                                <el-tag size=\"small\" :type=\"isChampion(user) ? 'warning' : 'success'\">\r\n                                    {{ user.points }} Points\r\n                                </el-tag>\r\n                            </div>\r\n                        </div>\r\n                        \r\n                        <div class=\"member-chores\">\r\n                            <div class=\"section-title\">\r\n                                <span>Assigned Chores</span>\r\n                            </div>\r\n                            \r\n                            <el-table\r\n                                v-if=\"userChores[user.id] && userChores[user.id].length\"\r\n                                :data=\"userChores[user.id]\"\r\n                                style=\"width: 100%\">\r\n                                <el-table-column\r\n                                    prop=\"choreName\"\r\n                                    label=\"Chore Name\">\r\n                                </el-table-column>\r\n                                <el-table-column\r\n                                    prop=\"functionalSpaceType\"\r\n                                    label=\"Functional Space\">\r\n                                </el-table-column>\r\n                            </el-table>\r\n                            <div v-else class=\"no-chores\">\r\n                                <i class=\"el-icon-info\"></i>\r\n                                <span>No chores assigned</span>\r\n                            </div>\r\n                        </div>\r\n                    </el-card>\r\n                </el-col>\r\n            </el-row>\r\n        </div>\r\n    </app-layout>\r\n</template>\r\n\r\n<script>\r\nimport AppLayout from '@/components/layout/AppLayout.vue';\r\nimport axios from 'axios';\r\n\r\nexport default {\r\n    components: {\r\n        AppLayout\r\n    },\r\n    data() {\r\n        return {\r\n            tableData: [],\r\n            userChores: {},\r\n            loadingUsers: false\r\n        }\r\n    },\r\n    computed: {\r\n        sortedUsers() {\r\n            return [...this.tableData].sort((a, b) => b.points - a.points);\r\n        }\r\n    },\r\n    methods: {\r\n        async fetchUsers() {\r\n            this.loadingUsers = true;\r\n            const spaceId = localStorage.getItem('spaceId');\r\n            if (!spaceId) {\r\n                this.loadingUsers = false;\r\n                return;\r\n            }\r\n            \r\n            try {\r\n                const response = await axios.get(`http://localhost:8080/space/${spaceId}`);\r\n                if (response.data && response.data.users) {\r\n                    this.tableData = response.data.users;\r\n                    this.tableData.forEach(user => {\r\n                        this.fetchUserChores(user.id);\r\n                    });\r\n                }\r\n            } catch (error) {\r\n                console.error('Error fetching space users:', error);\r\n                this.$message.error('Failed to fetch users');\r\n            } finally {\r\n                this.loadingUsers = false;\r\n            }\r\n        },\r\n        fetchUserChores(userId) {\r\n            axios.get(`http://localhost:8080/chores/user/${userId}`)\r\n                .then((response) => {\r\n                    if (response.data.status === 'success') {\r\n                        this.$set(this.userChores, userId, response.data.data);\r\n                    }\r\n                })\r\n                .catch((error) => {\r\n                    console.error('Error fetching user chores:', error);\r\n                });\r\n        },\r\n        isChampion(user) {\r\n            if (!this.tableData.length) return false;\r\n            const maxPoints = Math.max(...this.tableData.map(u => u.points));\r\n            return user.points === maxPoints && user.points > 0;\r\n        }\r\n    },\r\n    mounted() {\r\n        this.fetchUsers();\r\n    }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.user-container {\r\n    padding: 20px;\r\n}\r\n.user-card {\r\n    margin-bottom: 20px;\r\n}\r\n.card-header {\r\n    display: flex;\r\n    justify-content: space-between;\r\n    align-items: center;\r\n}\r\n.chores-list {\r\n    margin-top: 10px;\r\n}\r\n.no-chores {\r\n    color: #999;\r\n    text-align: center;\r\n    padding: 20px;\r\n}\r\n\r\n:deep(.el-table) {\r\n    font-size: 14px;\r\n}\r\n\r\n:deep(.el-table th) {\r\n    background-color: white;\r\n    color: #909399;\r\n    font-weight: normal;\r\n    padding: 8px;\r\n}\r\n\r\n:deep(.el-table td) {\r\n    padding: 8px;\r\n}\r\n\r\n:deep(.el-table::before) {\r\n    height: 0;\r\n}\r\n\r\n.member-chores {\r\n    margin-top: 15px;\r\n}\r\n\r\n.section-title {\r\n    margin-bottom: 15px;\r\n    color: #5e3a1a;\r\n    font-weight: bold;\r\n}\r\n\r\n.champion-card {\r\n    border: 2px solid #ffd700;\r\n    box-shadow: 0 0 15px rgba(255, 215, 0, 0.2) !important;\r\n}\r\n\r\n.username-container {\r\n    display: flex;\r\n    align-items: center;\r\n    gap: 8px;\r\n}\r\n\r\n.champion-icon {\r\n    color: #ffd700;\r\n    font-size: 20px;\r\n    animation: shine 2s infinite;\r\n}\r\n\r\n@keyframes shine {\r\n    0% { opacity: 0.6; }\r\n    50% { opacity: 1; }\r\n    100% { opacity: 0.6; }\r\n}\r\n</style>"],"mappings":";;;AAqDA,OAAAA,SAAA;AACA,OAAAC,KAAA;AAEA;EACAC,UAAA;IACAF;EACA;EACAG,KAAA;IACA;MACAC,SAAA;MACAC,UAAA;MACAC,YAAA;IACA;EACA;EACAC,QAAA;IACAC,YAAA;MACA,gBAAAJ,SAAA,EAAAK,IAAA,EAAAC,CAAA,EAAAC,CAAA,KAAAA,CAAA,CAAAC,MAAA,GAAAF,CAAA,CAAAE,MAAA;IACA;EACA;EACAC,OAAA;IACA,MAAAC,WAAA;MACA,KAAAR,YAAA;MACA,MAAAS,OAAA,GAAAC,YAAA,CAAAC,OAAA;MACA,KAAAF,OAAA;QACA,KAAAT,YAAA;QACA;MACA;MAEA;QACA,MAAAY,QAAA,SAAAjB,KAAA,CAAAkB,GAAA,gCAAAJ,OAAA;QACA,IAAAG,QAAA,CAAAf,IAAA,IAAAe,QAAA,CAAAf,IAAA,CAAAiB,KAAA;UACA,KAAAhB,SAAA,GAAAc,QAAA,CAAAf,IAAA,CAAAiB,KAAA;UACA,KAAAhB,SAAA,CAAAiB,OAAA,CAAAC,IAAA;YACA,KAAAC,eAAA,CAAAD,IAAA,CAAAE,EAAA;UACA;QACA;MACA,SAAAC,KAAA;QACAC,OAAA,CAAAD,KAAA,gCAAAA,KAAA;QACA,KAAAE,QAAA,CAAAF,KAAA;MACA;QACA,KAAAnB,YAAA;MACA;IACA;IACAiB,gBAAAK,MAAA;MACA3B,KAAA,CAAAkB,GAAA,sCAAAS,MAAA,IACAC,IAAA,CAAAX,QAAA;QACA,IAAAA,QAAA,CAAAf,IAAA,CAAA2B,MAAA;UACA,KAAAC,IAAA,MAAA1B,UAAA,EAAAuB,MAAA,EAAAV,QAAA,CAAAf,IAAA,CAAAA,IAAA;QACA;MACA,GACA6B,KAAA,CAAAP,KAAA;QACAC,OAAA,CAAAD,KAAA,gCAAAA,KAAA;MACA;IACA;IACAQ,WAAAX,IAAA;MACA,UAAAlB,SAAA,CAAA8B,MAAA;MACA,MAAAC,SAAA,GAAAC,IAAA,CAAAC,GAAA,SAAAjC,SAAA,CAAAkC,GAAA,CAAAC,CAAA,IAAAA,CAAA,CAAA3B,MAAA;MACA,OAAAU,IAAA,CAAAV,MAAA,KAAAuB,SAAA,IAAAb,IAAA,CAAAV,MAAA;IACA;EACA;EACA4B,QAAA;IACA,KAAA1B,UAAA;EACA;AACA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}