{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport axios from 'axios';\nexport default {\n  name: 'AppLayout',\n  data() {\n    return {\n      username: localStorage.getItem('username') || 'Guest'\n    };\n  },\n  methods: {\n    async handleLogout() {\n      try {\n        await axios.post('http://localhost:8080/auth/logout');\n        localStorage.clear();\n        this.$message.success('Logged out successfully');\n        this.$router.push('/login');\n      } catch (error) {\n        console.error('Logout error:', error);\n        localStorage.clear();\n        this.$message.warning('Logout completed with errors');\n        this.$router.push('/login');\n      }\n    }\n  }\n};","map":{"version":3,"names":["axios","name","data","username","localStorage","getItem","methods","handleLogout","post","clear","$message","success","$router","push","error","console","warning"],"sources":["src/components/layout/AppLayout.vue"],"sourcesContent":["<template>\r\n    <div>\r\n        <el-container style=\"height: 700px; border: 1px solid #eee\">\r\n            <el-header style=\"font-size:40px; background-color: rgb(238, 241, 246)\">\r\n                <div style=\"display: flex; justify-content: space-between; align-items: center\">\r\n                    <span>HomeHarmony</span>\r\n                    <div class=\"user-welcome\">\r\n                        <span>Welcome, {{ username }}</span>\r\n                    </div>\r\n                </div>\r\n            </el-header>\r\n            <el-container>\r\n                <el-aside width=\"220px\" style=\"border: 1px solid #eee\">\r\n                    <el-menu :default-openeds=\"['1']\">\r\n                        <el-submenu index=\"1\">\r\n                            <template #title><i class=\"el-icon-message\"></i>System Management</template>\r\n                            <el-menu-item index=\"1-1\" @click=\"$router.push('/space')\">Spaces</el-menu-item>\r\n                            <el-menu-item index=\"1-2\" @click=\"$router.push('/chore')\">Chores</el-menu-item>\r\n                            <el-menu-item index=\"1-3\" @click=\"$router.push('/user')\">Users</el-menu-item>\r\n                        </el-submenu>\r\n                        <el-menu-item index=\"2\" @click=\"handleLogout\">\r\n                            <i class=\"el-icon-switch-button\"></i>\r\n                            <span>Logout</span>\r\n                        </el-menu-item>\r\n                    </el-menu>\r\n                </el-aside>\r\n                <el-main>\r\n                    <slot></slot>\r\n                </el-main>\r\n            </el-container>\r\n        </el-container>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from 'axios';\r\n\r\nexport default {\r\n    name: 'AppLayout',\r\n    data() {\r\n        return {\r\n            username: localStorage.getItem('username') || 'Guest'\r\n        }\r\n    },\r\n    methods: {\r\n        async handleLogout() {\r\n            try {\r\n                await axios.post('http://localhost:8080/auth/logout');\r\n                localStorage.clear();\r\n                this.$message.success('Logged out successfully');\r\n                this.$router.push('/login');\r\n            } catch (error) {\r\n                console.error('Logout error:', error);\r\n                localStorage.clear();\r\n                this.$message.warning('Logout completed with errors');\r\n                this.$router.push('/login');\r\n            }\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.user-welcome {\r\n    font-size: 16px;\r\n    color: #606266;\r\n}\r\n</style> "],"mappings":";AAmCA,OAAAA,KAAA;AAEA;EACAC,IAAA;EACAC,KAAA;IACA;MACAC,QAAA,EAAAC,YAAA,CAAAC,OAAA;IACA;EACA;EACAC,OAAA;IACA,MAAAC,aAAA;MACA;QACA,MAAAP,KAAA,CAAAQ,IAAA;QACAJ,YAAA,CAAAK,KAAA;QACA,KAAAC,QAAA,CAAAC,OAAA;QACA,KAAAC,OAAA,CAAAC,IAAA;MACA,SAAAC,KAAA;QACAC,OAAA,CAAAD,KAAA,kBAAAA,KAAA;QACAV,YAAA,CAAAK,KAAA;QACA,KAAAC,QAAA,CAAAM,OAAA;QACA,KAAAJ,OAAA,CAAAC,IAAA;MACA;IACA;EACA;AACA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}