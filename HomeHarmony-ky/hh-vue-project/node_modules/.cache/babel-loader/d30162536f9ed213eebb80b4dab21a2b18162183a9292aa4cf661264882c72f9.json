{"ast":null,"code":"import \"core-js/modules/esnext.iterator.constructor.js\";\nimport \"core-js/modules/esnext.iterator.some.js\";\nimport Vue from 'vue';\nimport VueRouter from 'vue-router';\nVue.use(VueRouter);\nconst router = new VueRouter({\n  routes: [{\n    path: '/',\n    redirect: '/login'\n  }, {\n    path: '/login',\n    name: 'login',\n    component: () => import('../views/auth/AuthView.vue')\n  }, {\n    path: '/space',\n    name: 'space',\n    component: () => import('../views/homeharmony/SpaceView.vue'),\n    meta: {\n      requiresAuth: true\n    }\n  }, {\n    path: '/chore',\n    name: 'chore',\n    component: () => import('../views/homeharmony/ChoreView.vue'),\n    meta: {\n      requiresAuth: true\n    }\n  }, {\n    path: '/user',\n    name: 'user',\n    component: () => import('../views/homeharmony/UserView.vue'),\n    meta: {\n      requiresAuth: true\n    }\n  }]\n});\nrouter.beforeEach((to, from, next) => {\n  const isAuthenticated = !!localStorage.getItem('userId');\n  if (to.matched.some(record => record.meta.requiresAuth)) {\n    if (!isAuthenticated) {\n      next('/login');\n    } else {\n      next();\n    }\n  } else if (to.path === '/login' && isAuthenticated) {\n    next('/space');\n  } else {\n    next();\n  }\n});\nexport default router;","map":{"version":3,"names":["Vue","VueRouter","use","router","routes","path","redirect","name","component","meta","requiresAuth","beforeEach","to","from","next","isAuthenticated","localStorage","getItem","matched","some","record"],"sources":["C:/Users/Kaiying/Desktop/HomeHarmony-ky/HomeHarmony-ky/hh-vue-project/src/router/index.js"],"sourcesContent":["import Vue from 'vue'\r\nimport VueRouter from 'vue-router'\r\n\r\nVue.use(VueRouter)\r\n\r\nconst router = new VueRouter({\r\n    routes: [\r\n        {\r\n            path: '/',\r\n            redirect: '/login'\r\n        },\r\n        {\r\n            path: '/login',\r\n            name: 'login',\r\n            component: () => import('../views/auth/AuthView.vue')\r\n        },\r\n        {\r\n            path: '/space',\r\n            name: 'space',\r\n            component: () => import('../views/homeharmony/SpaceView.vue'),\r\n            meta: { requiresAuth: true }\r\n        },\r\n        {\r\n            path: '/chore',\r\n            name: 'chore',\r\n            component: () => import('../views/homeharmony/ChoreView.vue'),\r\n            meta: { requiresAuth: true }\r\n        },\r\n        {\r\n            path: '/user',\r\n            name: 'user',\r\n            component: () => import('../views/homeharmony/UserView.vue'),\r\n            meta: { requiresAuth: true }\r\n        }\r\n    ]\r\n});\r\n\r\nrouter.beforeEach((to, from, next) => {\r\n    const isAuthenticated = !!localStorage.getItem('userId');\r\n    \r\n    if (to.matched.some(record => record.meta.requiresAuth)) {\r\n        if (!isAuthenticated) {\r\n            next('/login');\r\n        } else {\r\n            next();\r\n        }\r\n    } else if (to.path === '/login' && isAuthenticated) {\r\n        next('/space');\r\n    } else {\r\n        next();\r\n    }\r\n});\r\n\r\nexport default router;\r\n"],"mappings":";;AAAA,OAAOA,GAAG,MAAM,KAAK;AACrB,OAAOC,SAAS,MAAM,YAAY;AAElCD,GAAG,CAACE,GAAG,CAACD,SAAS,CAAC;AAElB,MAAME,MAAM,GAAG,IAAIF,SAAS,CAAC;EACzBG,MAAM,EAAE,CACJ;IACIC,IAAI,EAAE,GAAG;IACTC,QAAQ,EAAE;EACd,CAAC,EACD;IACID,IAAI,EAAE,QAAQ;IACdE,IAAI,EAAE,OAAO;IACbC,SAAS,EAAEA,CAAA,KAAM,MAAM,CAAC,4BAA4B;EACxD,CAAC,EACD;IACIH,IAAI,EAAE,QAAQ;IACdE,IAAI,EAAE,OAAO;IACbC,SAAS,EAAEA,CAAA,KAAM,MAAM,CAAC,oCAAoC,CAAC;IAC7DC,IAAI,EAAE;MAAEC,YAAY,EAAE;IAAK;EAC/B,CAAC,EACD;IACIL,IAAI,EAAE,QAAQ;IACdE,IAAI,EAAE,OAAO;IACbC,SAAS,EAAEA,CAAA,KAAM,MAAM,CAAC,oCAAoC,CAAC;IAC7DC,IAAI,EAAE;MAAEC,YAAY,EAAE;IAAK;EAC/B,CAAC,EACD;IACIL,IAAI,EAAE,OAAO;IACbE,IAAI,EAAE,MAAM;IACZC,SAAS,EAAEA,CAAA,KAAM,MAAM,CAAC,mCAAmC,CAAC;IAC5DC,IAAI,EAAE;MAAEC,YAAY,EAAE;IAAK;EAC/B,CAAC;AAET,CAAC,CAAC;AAEFP,MAAM,CAACQ,UAAU,CAAC,CAACC,EAAE,EAAEC,IAAI,EAAEC,IAAI,KAAK;EAClC,MAAMC,eAAe,GAAG,CAAC,CAACC,YAAY,CAACC,OAAO,CAAC,QAAQ,CAAC;EAExD,IAAIL,EAAE,CAACM,OAAO,CAACC,IAAI,CAACC,MAAM,IAAIA,MAAM,CAACX,IAAI,CAACC,YAAY,CAAC,EAAE;IACrD,IAAI,CAACK,eAAe,EAAE;MAClBD,IAAI,CAAC,QAAQ,CAAC;IAClB,CAAC,MAAM;MACHA,IAAI,CAAC,CAAC;IACV;EACJ,CAAC,MAAM,IAAIF,EAAE,CAACP,IAAI,KAAK,QAAQ,IAAIU,eAAe,EAAE;IAChDD,IAAI,CAAC,QAAQ,CAAC;EAClB,CAAC,MAAM;IACHA,IAAI,CAAC,CAAC;EACV;AACJ,CAAC,CAAC;AAEF,eAAeX,MAAM","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}